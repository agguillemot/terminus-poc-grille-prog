(this["webpackJsonpterminus-grille-prog"]=this["webpackJsonpterminus-grille-prog"]||[]).push([[0],{26:function(n,e,t){},29:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t(1),c=t.n(i),o=t(15),u=t.n(o),a=(t(26),t(8)),s=t(19),d=t(7),l=t(6),j=t(20),b=Object(i.createContext)({inDuration:15,outDuration:15,openingTime:"09:00",closingTime:"23:00",totalOpeningTime:840}),f=function(n){var e=n.children,t=Object(j.a)(n,["children"]);return Object(r.jsx)(b.Provider,{value:Object(d.a)({},t),children:e})},O=function(){return Object(i.useContext)(b)},x=t(4),v=t(5);function p(){var n=Object(x.a)(["\n  background-color: orange;\n  font-size: 2em;\n  color: #fff;\n  border: none;\n"]);return p=function(){return n},n}function h(){var n=Object(x.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n"]);return h=function(){return n},n}function m(){var n=Object(x.a)(["\n  width: 300px;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  z-index: 1000;\n  position: relative;\n  padding: 30px;\n  box-sizing: border-box;\n"]);return m=function(){return n},n}function g(){var n=Object(x.a)(["\n  position: fixed;\n  background-color: rgba(0,0,0,0.5);\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 900;\n"]);return g=function(){return n},n}var T=v.a.div(g()),y=v.a.div(m()),S=v.a.button(h()),C=v.a.button(p()),k=[{id:"mad-max",title:"Mad Max",duration:120},{id:"obj-lune",title:"Objectif Lune",duration:156},{id:"mib",title:"Men In Black",duration:92},{id:"court",title:"Pipper (court m\xe9trage)",duration:15},{id:"seminaire",title:"S\xe9minaire (tr\xe8s long)",duration:420}],D=function(n){var e=n.onAddMovie,t=Object(i.useState)(!1),c=Object(l.a)(t,2),o=c[0],u=c[1],a=Object(i.useState)(void 0),s=Object(l.a)(a,2),d=s[0],j=s[1],b=Object(i.useState)("10:00"),f=Object(l.a)(b,2),O=f[0],x=f[1],v=void 0!==d&&void 0!==O;Object(i.useEffect)((function(){j(void 0),x("10:00")}),[o]);return Object(r.jsxs)(r.Fragment,{children:[o&&Object(r.jsx)(T,{children:Object(r.jsxs)(y,{children:[Object(r.jsx)(S,{onClick:function(){return u(!1)},children:"X"}),Object(r.jsxs)("select",{onChange:function(n){return j(n.currentTarget.value)},children:[Object(r.jsx)("option",{value:"",children:"Choisir un film"}),k.map((function(n){return Object(r.jsx)("option",{value:n.id,children:n.title},n.id)}))]}),Object(r.jsx)("input",{type:"time",value:O,onChange:function(n){return x(n.currentTarget.value)}}),Object(r.jsx)("button",{type:"button",onClick:function(){u(!1),v&&e({movie:d,startTime:O})},disabled:!v,children:"Valider"})]})}),Object(r.jsx)(C,{type:"button",onClick:function(){return u(!0)},children:"+"})]})};function I(){var n=Object(x.a)(["\n  color: ",";\n"]);return I=function(){return n},n}function F(){var n=Object(x.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n"]);return F=function(){return n},n}function w(){var n=Object(x.a)(["\n  ","\n  flex-direction: column;\n  height: ",";\n"]);return w=function(){return n},n}function M(){var n=Object(x.a)(["\n  height: ",";\n  background-color: teal;\n  color: #fff;\n  ","\n"]);return M=function(){return n},n}function P(){var n=Object(x.a)(["\n  height: ",";\n  background-color: aqua;\n  ","\n"]);return P=function(){return n},n}function z(){var n=Object(x.a)(["\n  position: relative;\n  border: 1px solid grey;\n  border-right: none;\n  border-left: none;\n"]);return z=function(){return n},n}var H=function(n){return 2*n},B=v.a.div(z()),L="\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n",A=v.a.div(P(),(function(n){var e=n.duration;return"".concat(H(e),"px")}),L),E=v.a.div(M(),(function(n){var e=n.duration;return"".concat(H(e),"px")}),L),J=v.a.div(w(),L,(function(n){var e=n.duration;return"".concat(H(e),"px")})),X=v.a.button(F()),q=v.a.div(I(),(function(n){return n.error?"red":"black"})),V=function(n){var e=n.split(":"),t=Object(l.a)(e,2),r=t[0],i=t[1],c=parseInt(r,10);return parseInt(i,10)+60*c},G=function(n){var e=n.session,t=e.movie,i=e.startTime,c=n.deleteSession,o=k.find((function(n){return n.id===t})),u=O(),a=u.inDuration,s=u.outDuration,d=u.openingTime,l=u.closingTime,j=V(i)<V(d)||V(i)+a+s>V(l);return Object(r.jsxs)(B,{children:[Object(r.jsx)(A,{duration:a,children:"Premi\xe8re partie"}),Object(r.jsxs)(J,{duration:(null===o||void 0===o?void 0:o.duration)||0,children:[Object(r.jsx)(X,{onClick:c,children:"X"}),Object(r.jsx)("b",{children:null===o||void 0===o?void 0:o.title}),Object(r.jsx)(q,{error:j,children:"d\xe9but ".concat(i," / dur\xe9e ").concat(null===o||void 0===o?void 0:o.duration," minutes")})]}),Object(r.jsx)(E,{duration:s,children:"Inters\xe9ance"})]})};function K(){var n=Object(x.a)(["\n  color: ","\n"]);return K=function(){return n},n}function N(){var n=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return N=function(){return n},n}function Q(){var n=Object(x.a)(["\n  border: 1px solid grey;\n  border-left: none;\n  border-right: none;\n  padding: 8px;\n"]);return Q=function(){return n},n}function R(){var n=Object(x.a)(["\n  min-width: 250px;\n  border: 1px solid grey;\n  margin-right: 20px;\n  min-height: 650px;\n"]);return R=function(){return n},n}var U=v.a.div(R()),W=v.a.div(Q()),Y=v.a.div(N()),Z=v.a.div(K(),(function(n){return n.error?"green":"red"})),$=function(n){var e=Math.floor(n/60),t=n-60*e;return"".concat("0".concat(e).slice(-2),"h").concat("0".concat(t).slice(-2))},_=function(n,e){return V(n.startTime)>V(e.startTime)?1:-1},nn=function(n){var e=n.room,t=e.index,i=e.seats,c=e.screen,o=e.sound,u=n.sessions,a=n.addSession,s=n.deleteSession,d=O(),l=d.totalOpeningTime,j=d.inDuration,b=d.outDuration,f=u.reduce((function(n,e){var t=k.find((function(n){return n.id===e.movie}));return n+(t?j+b+t.duration:0)}),0);return Object(r.jsxs)(U,{children:[Object(r.jsxs)("h2",{children:["Salle ",t]}),Object(r.jsxs)(W,{children:[Object(r.jsxs)("div",{children:[i," places"]}),Object(r.jsxs)("div",{children:["\xe9cran : ",c]}),Object(r.jsxs)("div",{children:["son : ",o]})]}),Object(r.jsxs)(W,{children:[Object(r.jsxs)("div",{children:["Temps maximal d'ouverture : ",$(l)]}),Object(r.jsxs)(Z,{error:f<l,children:["Temps de projection : ",$(f)]})]}),Object(r.jsxs)(Y,{children:[Object(r.jsx)(D,{onAddMovie:function(n){return a(n)}}),u.sort(_).map((function(n,e){return Object(r.jsx)(G,{session:n,deleteSession:function(){return s(n)}},e)}))]})]})},en=[{index:1,seats:135,screen:"4:3",sound:"Dolby Digital"},{index:2,seats:250,screen:"16:9",sound:"Surround 5.1"},{index:3,seats:100,screen:"16:9",sound:"Classic 3"}];function tn(){var n=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-right: 10px;\n  width: 150px;\n"]);return tn=function(){return n},n}function rn(){var n=Object(x.a)(["\n  display: flex;\n  margin-bottom: 20px;\n"]);return rn=function(){return n},n}function cn(){var n=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 30px;\n"]);return cn=function(){return n},n}var on=v.a.div(cn()),un=v.a.div(rn()),an=v.a.div(tn()),sn=t(32),dn=t(31),ln=function(n,e){return Object(sn.a)(Object(dn.a)(e,"HH:mm",new Date),Object(dn.a)(n,"HH:mm",new Date))};var jn=function(){var n=Object(i.useState)(15),e=Object(l.a)(n,2),t=e[0],c=e[1],o=Object(i.useState)(5),u=Object(l.a)(o,2),j=u[0],b=u[1],O=Object(i.useState)("09:00"),x=Object(l.a)(O,2),v=x[0],p=x[1],h=Object(i.useState)("23:00"),m=Object(l.a)(h,2),g=m[0],T=m[1],y=Object(i.useState)({1:[],2:[],3:[]}),S=Object(l.a)(y,2),C=S[0],k=S[1];return Object(r.jsxs)(on,{children:[Object(r.jsx)("h1",{children:"Mercredi 12 novembre 2020 - semaine 32"}),Object(r.jsxs)(un,{children:[Object(r.jsxs)(an,{children:[Object(r.jsx)("label",{htmlFor:"input-in",children:"Premi\xe8re partie"}),Object(r.jsx)("input",{id:"input-in",type:"number",min:0,value:t,onChange:function(n){return c(parseInt(n.currentTarget.value,10))}})]}),Object(r.jsxs)(an,{children:[Object(r.jsx)("label",{htmlFor:"input-out",children:"Inters\xe9ance"}),Object(r.jsx)("input",{id:"input-out",type:"number",min:0,value:j,onChange:function(n){return b(parseInt(n.currentTarget.value,10))}})]}),Object(r.jsxs)(an,{children:[Object(r.jsx)("label",{htmlFor:"input-opening",children:"heure d'ouverture"}),Object(r.jsx)("input",{id:"input-opening",type:"time",value:v,onChange:function(n){return p(n.currentTarget.value)}})]}),Object(r.jsxs)(an,{children:[Object(r.jsx)("label",{htmlFor:"input-closing",children:"heure de fermeture"}),Object(r.jsx)("input",{id:"input-closing",type:"time",value:g,onChange:function(n){return T(n.currentTarget.value)}})]})]}),Object(r.jsx)(un,{children:Object(r.jsx)(f,{inDuration:t,outDuration:j,openingTime:v,closingTime:g,totalOpeningTime:ln(v,g),children:en.map((function(n){return Object(r.jsx)(nn,{room:n,sessions:C[n.index],addSession:function(e){return t=n.index,r=e,void k(Object(d.a)(Object(d.a)({},C),{},Object(a.a)({},t,[].concat(Object(s.a)(C[t]),[r]))));var t,r},deleteSession:function(e){return function(n,e){var t=C[n],r=t.findIndex((function(n){return n.movie===e.movie&&n.startTime===e.startTime}));t.splice(r,1),k(Object(d.a)(Object(d.a)({},C),{},Object(a.a)({},n,t)))}(n.index,e)}},n.index)}))})})]})},bn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,33)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,c=e.getLCP,o=e.getTTFB;t(n),r(n),i(n),c(n),o(n)}))};u.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(jn,{})}),document.getElementById("root")),bn()}},[[29,1,2]]]);
//# sourceMappingURL=main.667a46c4.chunk.js.map